import test from 'ava' ;
import { parse , stringify , imod } from '../../../../src' ;

function macro ( t , A , B , C ) {
    const a = parse( A ) ;
    const b = parse( B ) ;
    const c = imod( a , b ) ;
    t.is( stringify( a ) , C ) ;
    t.is( stringify( b ) , B ) ;
    t.is( stringify( c ) , C ) ;
}

macro.title = ( _ , A , B , C ) => `${A} %= ${B} = ${C}` ;

test( macro , '1' , '1' , '0' ) ;
test( macro , '-1' , '1' , '0' ) ;
test( macro , '1' , '-1' , '0' ) ;
test( macro , '-1' , '-1' , '0' ) ;
test( macro , '1' , '17' , '1' ) ;
test( macro , '-1' , '17' , '16' ) ;
test( macro , '1' , '-17' , '-16' ) ;
test( macro , '-1' , '-17' , '-1' ) ;
test( macro , '1' , '51676101935731' , '1' ) ;
test( macro , '-1' , '51676101935731' , '51676101935730' ) ;
test( macro , '1' , '-51676101935731' , '-51676101935730' ) ;
test( macro , '-1' , '-51676101935731' , '-1' ) ;
test( macro , '1' , '1073741824' , '1' ) ;
test( macro , '-1' , '1073741824' , '1073741823' ) ;
test( macro , '1' , '-1073741824' , '-1073741823' ) ;
test( macro , '-1' , '-1073741824' , '-1' ) ;
test( macro , '1' , '717897987691852588770249' , '1' ) ;
test( macro , '-1' , '717897987691852588770249' , '717897987691852588770248' ) ;
test( macro , '1' , '-717897987691852588770249' , '-717897987691852588770248' ) ;
test( macro , '-1' , '-717897987691852588770249' , '-1' ) ;
test( macro , '17' , '1' , '0' ) ;
test( macro , '-17' , '1' , '0' ) ;
test( macro , '17' , '-1' , '0' ) ;
test( macro , '-17' , '-1' , '0' ) ;
test( macro , '17' , '17' , '0' ) ;
test( macro , '-17' , '17' , '0' ) ;
test( macro , '17' , '-17' , '0' ) ;
test( macro , '-17' , '-17' , '0' ) ;
test( macro , '17' , '51676101935731' , '17' ) ;
test( macro , '-17' , '51676101935731' , '51676101935714' ) ;
test( macro , '17' , '-51676101935731' , '-51676101935714' ) ;
test( macro , '-17' , '-51676101935731' , '-17' ) ;
test( macro , '17' , '1073741824' , '17' ) ;
test( macro , '-17' , '1073741824' , '1073741807' ) ;
test( macro , '17' , '-1073741824' , '-1073741807' ) ;
test( macro , '-17' , '-1073741824' , '-17' ) ;
test( macro , '17' , '717897987691852588770249' , '17' ) ;
test( macro , '-17' , '717897987691852588770249' , '717897987691852588770232' ) ;
test( macro , '17' , '-717897987691852588770249' , '-717897987691852588770232' ) ;
test( macro , '-17' , '-717897987691852588770249' , '-17' ) ;
test( macro , '51676101935731' , '1' , '0' ) ;
test( macro , '-51676101935731' , '1' , '0' ) ;
test( macro , '51676101935731' , '-1' , '0' ) ;
test( macro , '-51676101935731' , '-1' , '0' ) ;
test( macro , '51676101935731' , '17' , '14' ) ;
test( macro , '-51676101935731' , '17' , '3' ) ;
test( macro , '51676101935731' , '-17' , '-3' ) ;
test( macro , '-51676101935731' , '-17' , '-14' ) ;
test( macro , '51676101935731' , '51676101935731' , '0' ) ;
test( macro , '-51676101935731' , '51676101935731' , '0' ) ;
test( macro , '51676101935731' , '-51676101935731' , '0' ) ;
test( macro , '-51676101935731' , '-51676101935731' , '0' ) ;
test( macro , '51676101935731' , '1073741824' , '129172083' ) ;
test( macro , '-51676101935731' , '1073741824' , '944569741' ) ;
test( macro , '51676101935731' , '-1073741824' , '-944569741' ) ;
test( macro , '-51676101935731' , '-1073741824' , '-129172083' ) ;
test( macro , '51676101935731' , '717897987691852588770249' , '51676101935731' ) ;
test( macro , '-51676101935731' , '717897987691852588770249' , '717897987640176486834518' ) ;
test( macro , '51676101935731' , '-717897987691852588770249' , '-717897987640176486834518' ) ;
test( macro , '-51676101935731' , '-717897987691852588770249' , '-51676101935731' ) ;
test( macro , '1073741824' , '1' , '0' ) ;
test( macro , '-1073741824' , '1' , '0' ) ;
test( macro , '1073741824' , '-1' , '0' ) ;
test( macro , '-1073741824' , '-1' , '0' ) ;
test( macro , '1073741824' , '17' , '13' ) ;
test( macro , '-1073741824' , '17' , '4' ) ;
test( macro , '1073741824' , '-17' , '-4' ) ;
test( macro , '-1073741824' , '-17' , '-13' ) ;
test( macro , '1073741824' , '51676101935731' , '1073741824' ) ;
test( macro , '-1073741824' , '51676101935731' , '51675028193907' ) ;
test( macro , '1073741824' , '-51676101935731' , '-51675028193907' ) ;
test( macro , '-1073741824' , '-51676101935731' , '-1073741824' ) ;
test( macro , '1073741824' , '1073741824' , '0' ) ;
test( macro , '-1073741824' , '1073741824' , '0' ) ;
test( macro , '1073741824' , '-1073741824' , '0' ) ;
test( macro , '-1073741824' , '-1073741824' , '0' ) ;
test( macro , '1073741824' , '717897987691852588770249' , '1073741824' ) ;
test( macro , '-1073741824' , '717897987691852588770249' , '717897987691851515028425' ) ;
test( macro , '1073741824' , '-717897987691852588770249' , '-717897987691851515028425' ) ;
test( macro , '-1073741824' , '-717897987691852588770249' , '-1073741824' ) ;
test( macro , '717897987691852588770249' , '1' , '0' ) ;
test( macro , '-717897987691852588770249' , '1' , '0' ) ;
test( macro , '717897987691852588770249' , '-1' , '0' ) ;
test( macro , '-717897987691852588770249' , '-1' , '0' ) ;
test( macro , '717897987691852588770249' , '17' , '9' ) ;
test( macro , '-717897987691852588770249' , '17' , '8' ) ;
test( macro , '717897987691852588770249' , '-17' , '-8' ) ;
test( macro , '-717897987691852588770249' , '-17' , '-9' ) ;
test( macro , '717897987691852588770249' , '51676101935731' , '51258661506607' ) ;
test( macro , '-717897987691852588770249' , '51676101935731' , '417440429124' ) ;
test( macro , '717897987691852588770249' , '-51676101935731' , '-417440429124' ) ;
test( macro , '-717897987691852588770249' , '-51676101935731' , '-51258661506607' ) ;
test( macro , '717897987691852588770249' , '1073741824' , '278782921' ) ;
test( macro , '-717897987691852588770249' , '1073741824' , '794958903' ) ;
test( macro , '717897987691852588770249' , '-1073741824' , '-794958903' ) ;
test( macro , '-717897987691852588770249' , '-1073741824' , '-278782921' ) ;
test( macro , '717897987691852588770249' , '717897987691852588770249' , '0' ) ;
test( macro , '-717897987691852588770249' , '717897987691852588770249' , '0' ) ;
test( macro , '717897987691852588770249' , '-717897987691852588770249' , '0' ) ;
test( macro , '-717897987691852588770249' , '-717897987691852588770249' , '0' ) ;
