import test from 'ava' ;
import { parse , stringify , isub } from '../../../../src' ;

function macro ( t , A , B , C ) {
    const a = parse( A ) ;
    const b = parse( B ) ;
    const c = isub( a , b ) ;
    t.is( stringify( a ) , C ) ;
    t.is( stringify( b ) , B ) ;
    t.is( stringify( c ) , C ) ;
}

macro.title = ( _ , A , B , C ) => `${A} -= ${B} = ${C}` ;

test( macro , '1' , '1' , '0' ) ;
test( macro , '-1' , '1' , '-2' ) ;
test( macro , '1' , '-1' , '2' ) ;
test( macro , '-1' , '-1' , '0' ) ;
test( macro , '1' , '17' , '-16' ) ;
test( macro , '-1' , '17' , '-18' ) ;
test( macro , '1' , '-17' , '18' ) ;
test( macro , '-1' , '-17' , '16' ) ;
test( macro , '1' , '51676101935731' , '-51676101935730' ) ;
test( macro , '-1' , '51676101935731' , '-51676101935732' ) ;
test( macro , '1' , '-51676101935731' , '51676101935732' ) ;
test( macro , '-1' , '-51676101935731' , '51676101935730' ) ;
test( macro , '1' , '1073741824' , '-1073741823' ) ;
test( macro , '-1' , '1073741824' , '-1073741825' ) ;
test( macro , '1' , '-1073741824' , '1073741825' ) ;
test( macro , '-1' , '-1073741824' , '1073741823' ) ;
test( macro , '1' , '717897987691852588770249' , '-717897987691852588770248' ) ;
test( macro , '-1' , '717897987691852588770249' , '-717897987691852588770250' ) ;
test( macro , '1' , '-717897987691852588770249' , '717897987691852588770250' ) ;
test( macro , '-1' , '-717897987691852588770249' , '717897987691852588770248' ) ;
test( macro , '17' , '1' , '16' ) ;
test( macro , '-17' , '1' , '-18' ) ;
test( macro , '17' , '-1' , '18' ) ;
test( macro , '-17' , '-1' , '-16' ) ;
test( macro , '17' , '17' , '0' ) ;
test( macro , '-17' , '17' , '-34' ) ;
test( macro , '17' , '-17' , '34' ) ;
test( macro , '-17' , '-17' , '0' ) ;
test( macro , '17' , '51676101935731' , '-51676101935714' ) ;
test( macro , '-17' , '51676101935731' , '-51676101935748' ) ;
test( macro , '17' , '-51676101935731' , '51676101935748' ) ;
test( macro , '-17' , '-51676101935731' , '51676101935714' ) ;
test( macro , '17' , '1073741824' , '-1073741807' ) ;
test( macro , '-17' , '1073741824' , '-1073741841' ) ;
test( macro , '17' , '-1073741824' , '1073741841' ) ;
test( macro , '-17' , '-1073741824' , '1073741807' ) ;
test( macro , '17' , '717897987691852588770249' , '-717897987691852588770232' ) ;
test( macro , '-17' , '717897987691852588770249' , '-717897987691852588770266' ) ;
test( macro , '17' , '-717897987691852588770249' , '717897987691852588770266' ) ;
test( macro , '-17' , '-717897987691852588770249' , '717897987691852588770232' ) ;
test( macro , '51676101935731' , '1' , '51676101935730' ) ;
test( macro , '-51676101935731' , '1' , '-51676101935732' ) ;
test( macro , '51676101935731' , '-1' , '51676101935732' ) ;
test( macro , '-51676101935731' , '-1' , '-51676101935730' ) ;
test( macro , '51676101935731' , '17' , '51676101935714' ) ;
test( macro , '-51676101935731' , '17' , '-51676101935748' ) ;
test( macro , '51676101935731' , '-17' , '51676101935748' ) ;
test( macro , '-51676101935731' , '-17' , '-51676101935714' ) ;
test( macro , '51676101935731' , '51676101935731' , '0' ) ;
test( macro , '-51676101935731' , '51676101935731' , '-103352203871462' ) ;
test( macro , '51676101935731' , '-51676101935731' , '103352203871462' ) ;
test( macro , '-51676101935731' , '-51676101935731' , '0' ) ;
test( macro , '51676101935731' , '1073741824' , '51675028193907' ) ;
test( macro , '-51676101935731' , '1073741824' , '-51677175677555' ) ;
test( macro , '51676101935731' , '-1073741824' , '51677175677555' ) ;
test( macro , '-51676101935731' , '-1073741824' , '-51675028193907' ) ;
test( macro , '51676101935731' , '717897987691852588770249' , '-717897987640176486834518' ) ;
test( macro , '-51676101935731' , '717897987691852588770249' , '-717897987743528690705980' ) ;
test( macro , '51676101935731' , '-717897987691852588770249' , '717897987743528690705980' ) ;
test( macro , '-51676101935731' , '-717897987691852588770249' , '717897987640176486834518' ) ;
test( macro , '1073741824' , '1' , '1073741823' ) ;
test( macro , '-1073741824' , '1' , '-1073741825' ) ;
test( macro , '1073741824' , '-1' , '1073741825' ) ;
test( macro , '-1073741824' , '-1' , '-1073741823' ) ;
test( macro , '1073741824' , '17' , '1073741807' ) ;
test( macro , '-1073741824' , '17' , '-1073741841' ) ;
test( macro , '1073741824' , '-17' , '1073741841' ) ;
test( macro , '-1073741824' , '-17' , '-1073741807' ) ;
test( macro , '1073741824' , '51676101935731' , '-51675028193907' ) ;
test( macro , '-1073741824' , '51676101935731' , '-51677175677555' ) ;
test( macro , '1073741824' , '-51676101935731' , '51677175677555' ) ;
test( macro , '-1073741824' , '-51676101935731' , '51675028193907' ) ;
test( macro , '1073741824' , '1073741824' , '0' ) ;
test( macro , '-1073741824' , '1073741824' , '-2147483648' ) ;
test( macro , '1073741824' , '-1073741824' , '2147483648' ) ;
test( macro , '-1073741824' , '-1073741824' , '0' ) ;
test( macro , '1073741824' , '717897987691852588770249' , '-717897987691851515028425' ) ;
test( macro , '-1073741824' , '717897987691852588770249' , '-717897987691853662512073' ) ;
test( macro , '1073741824' , '-717897987691852588770249' , '717897987691853662512073' ) ;
test( macro , '-1073741824' , '-717897987691852588770249' , '717897987691851515028425' ) ;
test( macro , '717897987691852588770249' , '1' , '717897987691852588770248' ) ;
test( macro , '-717897987691852588770249' , '1' , '-717897987691852588770250' ) ;
test( macro , '717897987691852588770249' , '-1' , '717897987691852588770250' ) ;
test( macro , '-717897987691852588770249' , '-1' , '-717897987691852588770248' ) ;
test( macro , '717897987691852588770249' , '17' , '717897987691852588770232' ) ;
test( macro , '-717897987691852588770249' , '17' , '-717897987691852588770266' ) ;
test( macro , '717897987691852588770249' , '-17' , '717897987691852588770266' ) ;
test( macro , '-717897987691852588770249' , '-17' , '-717897987691852588770232' ) ;
test( macro , '717897987691852588770249' , '51676101935731' , '717897987640176486834518' ) ;
test( macro , '-717897987691852588770249' , '51676101935731' , '-717897987743528690705980' ) ;
test( macro , '717897987691852588770249' , '-51676101935731' , '717897987743528690705980' ) ;
test( macro , '-717897987691852588770249' , '-51676101935731' , '-717897987640176486834518' ) ;
test( macro , '717897987691852588770249' , '1073741824' , '717897987691851515028425' ) ;
test( macro , '-717897987691852588770249' , '1073741824' , '-717897987691853662512073' ) ;
test( macro , '717897987691852588770249' , '-1073741824' , '717897987691853662512073' ) ;
test( macro , '-717897987691852588770249' , '-1073741824' , '-717897987691851515028425' ) ;
test( macro , '717897987691852588770249' , '717897987691852588770249' , '0' ) ;
test( macro , '-717897987691852588770249' , '717897987691852588770249' , '-1435795975383705177540498' ) ;
test( macro , '717897987691852588770249' , '-717897987691852588770249' , '1435795975383705177540498' ) ;
test( macro , '-717897987691852588770249' , '-717897987691852588770249' , '0' ) ;
