import test from 'ava' ;

import { ZZ } from "../../../src/index.js" ;

function macro ( t , a , b , c ) {
	t.is( c.toString() , a.gcd(b).toString() ) ;
}

macro.title = (providedTitle, a, b, c) => `gcd(${a.toString()},${b.toString()}) = ${c.toString()}` ;

test( macro , ZZ.$0() , ZZ.$0() , ZZ.$0() ) ;
test( macro , ZZ.$1() , ZZ.$0() , ZZ.$1() ) ;
test( macro , ZZ.$0() , ZZ.$1() , ZZ.$1() ) ;
test( macro , ZZ.$1() , ZZ.$1() , ZZ.$1() ) ;
test( macro , ZZ.from(2) , ZZ.from(3) , ZZ.$1() ) ;
test( macro , ZZ.from(3) , ZZ.from(4) , ZZ.$1() ) ;
test( macro , ZZ.from(2) , ZZ.from(4) , ZZ.from(2) ) ;
test( macro , ZZ.from('182719837289124387095732094932857943') , ZZ.from(218379128372) , ZZ.$1() ) ;
test( macro , ZZ.from('89798763754892653453379597352537489494736') , ZZ.from(978) , ZZ.from(6) ) ;
test( macro , ZZ.from('1234567891011121314151617181920212223242526272829') , ZZ.from(1221) , ZZ.from(3) ) ;
test( macro , ZZ.from('8918391893892839282938092838273908') , ZZ.from('9238902830982083209836079238902830') , ZZ.from(18) ) ;
test( macro ,
	ZZ.from('37650526072328171936695291762250209370684337226819795603338569781977444693437332193180866661042770508342415236941382410000000000000000') ,
	ZZ.from('5696107759173612435215985096515090524728819689625373634782109911819800000000') ,
	ZZ.from('12272004900965151087327615491240194950486574150898137749184200000000')
) ;

test( macro ,
	ZZ.from('67119411938628137065042623053470295860352899292113831399681459932104429712541137526114591678492374912832861154037280650094772951318333'),
	ZZ.from('48179292498495773577650761587652514616005124004102188905857708802854991702951275654450870129244763211021514910115253990099546035191850322100208219724128209064592'),
	ZZ.from('52310721570994454309603316505452077132504750494613585448247191340916543146521771411345313270814742631')
) ;

function auto ( t , a ) {
	t.is( a.abs().toString() , a.gcd(a).toString() ) ;
}

auto.title = (providedTitle, a) => `auto gcd(${a.toString()},${a.toString()}) = ${a.toString()}` ;

test( auto , ZZ.$0() ) ;
test( auto , ZZ.$1() ) ;
test( auto , ZZ.$_1() ) ;
test( auto , ZZ.from(2) ) ;
test( auto , ZZ.from(13280123) ) ;
test( auto ,
	ZZ.from('37650526072328171936695291762250209370684337226819795603338569781977444693437332193180866661042770508342415236941382410000000000000000')
) ;

test( auto ,
	ZZ.from('-37650526072328171936695291762250209370684337226819795603338569781977444693437332193180866661042770508342415236941382410000000000000000')
) ;

test( macro , ZZ.from(-3) , ZZ.from(3) , ZZ.from(3) ) ;
test( macro , ZZ.from(3) , ZZ.from(-3) , ZZ.from(3) ) ;

// test generated with https://github.com/aureooms-research/gcd
